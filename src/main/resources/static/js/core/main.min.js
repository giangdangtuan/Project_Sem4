var $app={},emailCheck=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,phoneCheck=/^-{0,1}\d*\.{0,1}\d+$/,siteURL="";if(void 0==$.cookie("__la")||""==$.cookie("__la")||"th"==$.cookie("__la"))var msg={signin_fail:"ชื่อผู้ใช้หรือรหัสผ่านไม่ถูกต้อง กรุณาลองใหม่อีกครั้ง",email:"กรุณาใส่อีเมล์",email_invalid:"กรุณาใส่อีเมล์ให้ถูกต้อง",email_duplicate:"ขออภัยอีเมลนี้ถูกใช้งานแล้ว",password:"กรุณาใส่รหัสผ่าน",password_min:"กรุณาใส่รหัสผ่านอย่างน้อย 8 ตัวอักษร",password_confirm:"กรุณายืนยันรหัสผ่าน",password_match:"กรุณายืนยันรหัสผ่านให้ตรงกัน",name:"กรุณาใส่ชื่อ",firstname:"กรุณาใส่ชื่อ",lastname:"กรุณาใส่นามสกุล",gender:"กรุณาเลือกเพศ",birthday:"กรุณาใส่วันเกิดให้ครบถ้วน",idcard:"กรุณาใส่หมายเลขประจำตัวประชาชน",idcard_limit:"กรุณาใส่รหัสประจำตัวประชาชนให้ครบ 13 หลัก",idcard_invalid:"กรุณาใส่รหัสประจำตัวประชาชนให้ถูกต้อง",passport:"กรุณาใส่เลขทีหนังสือเดินทาง",telephone:"กรุณาใส่เบอร์โทรศัพท์",telephone_invalid:"กรุณาใส่เบอร์โทรศัพท์ด้วยตัวเลขเท่านั้น",telephone_limit:"กรุณาใส่เบอร์โทรศัพท์ให้ครบถ้วน",address:"กรุณาใส่ที่อยุ่",country:"กรุณาเลือกประเทศ",district:"กรุณาใส่ตำบล/แขวง",amphoe:"กรุณาเลือกอำเภอ/เขต",province:"กรุณาเลือกจังหวัด",zipcode:"กรุณาใส่รหัสไปรษณีย์",zipcode_invalid:"กรุณาใส่รหัสไปรษณีย์ด้วยตัวเลขเท่านั้น",terms:"กรุณายอมรับเงื่อนไขการใช้บริการ",captcha:"กรุณาระบุตัวตน",category:"กรุณาเลือกหัวข้อ",subject:"กรุณาระบุเรื่อง",detail:"กรุณาระบุรายละเอียด",date:"วัน",month:"เดือน",year:"ปี",btn_buynow:"ซื้อบัตร",btn_more:"เลือกรอบ/ประเภทบัตร",btn_queue:"รับคิวซื้อบัตร",txt_error:"ขออภัย",txt_error_detail:"ขณะนี้มีผู้ใช้งานจำนวนมาก<br>กรุณาโหลดหน้าใหม่อีกครั้ง",txt_reload_page:"โหลดหน้าใหม่",select_date:"กรุณาเลือกวันที่",fill_out_information:"กรุณากรอกข้อมูลให้ครบถ้วน",confirm:"กรุณายืนยัน",welcome:"ยินดีต้อนรับ",welcome_title:"คุณ ",scrolling_info:"เลื่อนเพื่อดูที่นั่งทั้งหมด"};else var msg={signin_fail:"The email address or password you entered were invalid. Please try again.",email:"Please enter email.",email_invalid:"Please enter a valid email address.",email_duplicate:"Sorry, this email is already in use.",password:"Please enter a password.",password_min:"Please enter password least 8 characters.",password_confirm:"Please verify your password.",password_match:"Please verify your password.",name:"Please enter your name.",firstname:"Please enter firstname.",lastname:"Please enter lastname.",gender:"Please enter gender.",birthday:"Please enter birthdate.",idcard:"Please enter your ID Card No.",idcard_limit:"Please enter your 13 digit ID card number",idcard_invalid:"Please enter a valid ID card number.",passport:"Please enter your passport number.",telephone:"Please enter a telephone number.",telephone_invalid:"Please enter only number for telephone.",telephone_limit:"Please enter a telephone.",address:"Please enter address.",country:"Please select country",district:"Please enter a city or tumbon.",amphoe:"Please select district",province:"Please select province.",zipcode:"Please enter zipcode.",zipcode_invalid:"Please enter only number for zipcode.",terms:"Please accept terms of services.",captcha:"Please check recaptcha.",category:"Please select category",subject:"Please enter subject",detail:"Please enter detail",date:"Date",month:"Month",year:"Year",btn_buynow:"BUY NOW",btn_more:"Get Ticket",btn_queue:"Get Queue",txt_error:"SORRY",txt_error_detail:"Something went wrong, <br>Please try again.",txt_reload_page:"Reload Page",select_date:"Please select date.",fill_out_information:"Please fill out all information.",confirm:"Please confirm",welcome:"Welcome",welcome_title:"",scrolling_info:"Scroll to see all seats"};var user=detect.parse(navigator.userAgent),$window={h:$(window).height(),w:$(window).width()};$(function(){$app.check.init(),$app.global.init()}),$app.language="th",$app.check={init:function(){this.scroll(),this.lang(),this.hash(),this.safari(),($app.check.ie()||$app.check.safariOld()||$app.check.chrome())&&$app.popup.browser()},ie:function(){return"IE"==user.browser.family&&user.browser.major<11},safari:function(){return"Desktop"==user.device.type&&"Safari"==user.browser.family&&($("html").addClass("isSafari"),!0)},safariOld:function(){return"Desktop"==user.device.type&&"Safari"==user.browser.family&&user.browser.major<12},chrome:function(){return"Desktop"==user.device.type&&"Chrome"==user.browser.family&&user.browser.major<55},scroll:function(){var e=$(window).scrollTop()+50,t=$(".main-header").outerHeight();$(window).on("scroll",function(a){var i=$(this).scrollTop();if(i>50&&i>e&&$("html").addClass("hide-header"),i<e&&$("html").removeClass("hide-header"),0!=$(".fixed-head-container").length){var o=$(".fixed-head-container").offset().top;i>o-15&&$(".fixed-head-container").addClass("isFixed"),i<=o-(t+15)&&$(".fixed-head-container").removeClass("isFixed")}e=i})},lang:function(){void 0==$.cookie("__la")||""==$.cookie("__la")||"th"==$.cookie("__la")?($app.fn.setLang("th"),$app.check.countryTH=!0,$app.check.skipIDcard=!1):($app.fn.setLang($.cookie("__la")),$app.check.countryTH=!1,$app.check.skipIDcard=!0)},hash:function(){switch(window.location.hash){case"#signin":$app.popup.signinInit("signin"),$app.popup.signin();break;case"#signup":$app.popup.signup();break;case"#forgotpassword":$app.popup.forgetPassword()}},countryTH:!0,telephoneCode:"th",userCookie:!1,skipAddress:!1,signinPage:!1,skipGender:!1,skipDOB:!1,skipIDcard:!1,skipRobotSignin:!1,skipRobotSigninPage:!1,skipRobotSignup:!1,skipRobotResetPass:!1};var lazy,isShowMenu=!1;$app.global={init:function(){lazy=$(".lazy").lazy({visibleOnly:!0,chainable:!1,threshold:$window.h/2}),this.menu(),this.tab(),this.tabSync(),this.tabMain(),this.selectbox(),this.dropdown(),this.accordion(),this.viewPassword(),this.searchHeader(),this.checkboxAll(),this.tabSearchFlight(),this.txtEditorInit(),$(".fancybox").fancybox({padding:0,margin:[40,20,40,20]}),$("a.venue:not(.no-popup),.btn-popup-ajax").click(function(e){var t=$(this).attr("href");$.fancybox({href:t,type:"ajax",padding:0,margin:[40,20,40,20],width:"100%",height:"auto",maxWidth:"480",autoResize:!0,autoSize:!1,beforeShow:function(){$(this).hasClass(".venue")&&$(".fancybox-skin").addClass("no-bg")}}),e.preventDefault()}),$(".fancybox-ajax").click(function(e){var t=$(this).attr("href");$.fancybox({href:t,type:"iframe",padding:0,margin:[40,20,40,20],width:"100%",height:"auto"}),e.preventDefault()}),$app.form.init()},menu:function(){$(".btn-menu").click(function(e){isShowMenu?(isShowMenu=!1,$(".btn-menu").removeClass("active").addClass("inactive"),$("html").removeClass("show-menu")):(isShowMenu=!0,$(".btn-menu").removeClass("inactive").addClass("active"),$("html").addClass("show-menu")),e.preventDefault()}),$(window).on("swipeleft",function(e){isShowMenu&&($(".btn-menu").removeClass("active").addClass("inactive"),$("html").removeClass("show-menu"),isShowMenu=!1)}),$(".main-footer .menu-head").click(function(e){$window.w<=768&&($(this).toggleClass("active"),$(this).parent(".menu-group").find(".menu-list").slideToggle())})},tab:function(){var e=0;0!=$(".tabbox").length&&($(".tabbox").each(function(){"false"!=$(this).attr("data-auto")?($(this).find(".tb-select li").removeClass("active"),$(this).find(".tb-item").eq(e).siblings(".tb-item").removeClass("active").hide(),$(this).find(".tb-select li").eq(e).addClass("active"),$(this).find(".tb-item").eq(e).show().addClass("active")):$(this).find(".tb-item").removeClass("active").hide()}),$(".tb-select li a").not(".exit").click(function(t){e=$(this).parent().index();var a=$(this).attr("data-slider");$(this).parents(".tabbox").find(".tb-select li").removeClass("active"),$(this).parents(".tabbox").find(".tb-select li").eq(e).addClass("active"),$(this).parents(".tabbox").find(".tb-item").removeClass("active").hide(),$(this).parents(".tabbox").find(".tb-item").eq(e).show().addClass("active"),lazy.update(),""==a&&void 0==a||$("."+a).slick("setPosition"),t.preventDefault()}))},tabMain:function(){var e=0;0!=$(".tab-main").length&&($(".tab-main").each(function(){"false"!=$(this).attr("data-auto")?($(this).find(">.tm-select li").removeClass("active"),$(this).find(">.tm-item-container .tm-item").eq(e).siblings(".tm-item").removeClass("active").hide(),$(this).find(">.tm-select li").eq(e).addClass("active"),$(this).find(">.tm-item-container .tm-item").eq(e).show().addClass("active")):$(this).find(">.tm-item-container .tm-item").removeClass("active").hide()}),$(".tm-select li a").click(function(t){e=$(this).parent().index();var a=$(this).attr("data-parent");$(a).find(".tm-select li").removeClass("active"),$(a).find(".tm-select li").eq(e).addClass("active"),$(a).find(".tm-item").removeClass("active").hide(),$(a).find(".tm-item").eq(e).show().addClass("active"),lazy.update(),t.preventDefault()}))},accordion:function(){0!=$(".accordionbox").length&&$(".accordionbox").each(function(){$(".check-item").on("change",function(){$(this).is(":checked")&&($(this).parents(".item").siblings().removeClass("active"),$(this).parents(".item").addClass("active"))})})},selectbox:function(){0!=$(".selectbox").length&&($("html").click(function(){$(".selectbox").removeClass("show-options")}),$(".selectbox .sb-selector").click(function(e){$(this).parent(".selectbox").hasClass("show-options")?$(this).parent(".selectbox").removeClass("show-options"):$(this).parent(".selectbox").addClass("show-options"),e.stopPropagation()}),$(".selectbox .sb-options a").click(function(e){var t=$(this).attr("data-value"),a=$(this).text();$(this).parents(".selectbox").find(".sb-selector").text(a).addClass("selected"),$(this).parents(".selectbox").removeClass("show-options"),$(this).parents(".selectbox").find(".sb-value").val(t),e.preventDefault()}))},dropdown:function(){0!=$(".box-dropdown").length&&($("html").click(function(){$(".box-dropdown").removeClass("show-dropdown"),$(".box-dropdown .btn-dropdown").removeClass("active")}),$(".box-dropdown").click(function(e){e.stopPropagation()}),$(".box-dropdown .btn-dropdown").click(function(e){$(".box-dropdown .btn-dropdown").removeClass("active"),$(this).parent(".box-dropdown").hasClass("show-dropdown")?($(this).removeClass("active"),$(this).parent(".box-dropdown").removeClass("show-dropdown")):($(this).addClass("active"),$(".box-dropdown").removeClass("show-dropdown"),$(this).parent(".box-dropdown").addClass("show-dropdown"),$(this).parent(".box-dropdown").find(".noti-icon").hide()),e.stopPropagation()}))},viewPassword:function(){$(".box-view-password").length>0&&$(".box-view-password .box").append('<a class="btn-view-password" href="javascript:void(0);" tabIndex="-1"></a>'),$(".btn-view-password").each(function(){$(this).click(function(e){$(this).hasClass("active")?($(this).removeClass("active"),$(this).parent(".box").find('[type="text"]').attr("type","password")):($(this).addClass("active"),$(this).parent(".box").find('[type="password"]').attr("type","text")),e.preventDefault()})})},searchHeader:function(){$(".main-header .btn-show-search").click(function(e){$(this).addClass("active"),$app.popup.search()})},checkboxAll:function(){$(".box-checkbox-all .check-all").change(function(){$(this).parents(".box-checkbox-all").find(".checkbox").prop("checked",$(this).prop("checked"))}),$(".box-checkbox-all .checkbox").change(function(){0==$(this).prop("checked")&&$(this).parents(".box-checkbox-all").find(".check-all").prop("checked",!1),$(this).parents(".box-checkbox-all").find(".checkbox:checked").length==$(this).parents(".box-checkbox-all").find(".checkbox").length&&$(this).parents(".box-checkbox-all").find(".check-all").prop("checked",!0)})},tabSync:function(){if(0!=$(".tabbox-sync").length){var e=$(".tabbox-sync .tbs-container");e.on("init",function(e){$(".tabbox-sync .tbs-select li").eq(0).addClass("active")}),e.slick({arrows:!1,dots:!1,infinite:!1,adaptiveHeight:!0}).on("beforeChange",function(e,t,a,i){$(".tabbox-sync .tbs-select li").removeClass("active"),$(".tabbox-sync .tbs-select li").eq(i).addClass("active"),$(".tabbox-sync .box-tbs-select").animate({scrollLeft:$(".tabbox-sync .tbs-select li").eq(i).position().left},250)}).on("afterChange",function(e,t,a,i){lazy.update()}),$(".tabbox-sync .tbs-select li a").click(function(t){var a=$(this).parent().index();e.slick("slickGoTo",a),t.preventDefault()})}},tabSearchFlight:function(){var e=0,t="https://www.thaiticketmajor.com/travel/flight/",a='<iframe src="'+t+'SearchBoxTTM_Dom.php?la=th" width="100%" height="100%" frameborder="0" allowtransparency="true" scrolling="no" onload="$app.fn.resizeIframe(this);"></iframe>';0!=$(".tabSearchFlight").length&&($(".tabSearchFlight").each(function(){$(this).find(".flight-selection .item").removeClass("active"),$(this).find(".flight-selection .item").eq(e).addClass("active"),$(this).find(".search-flight-container").html(a)}),$(".tabSearchFlight .flight-selection li a").click(function(t){switch(e=$(this).parent().index(),$(this).parents(".tabSearchFlight").find(".flight-selection li").removeClass("active"),$(this).parents(".tabSearchFlight").find(".flight-selection li").eq(e).addClass("active"),e){case 1:$(this).parents(".tabSearchFlight").find(".search-flight-container").html('<iframe src="https://www.thaiticketmajor.com/travel/flight/SearchBoxTTM_Inter.php?la=th" width="100%" height="100%" frameborder="0" allowtransparency="true" scrolling="no" onload="$app.fn.resizeIframe(this);"></iframe>');break;default:$(this).parents(".tabSearchFlight").find(".search-flight-container").html(a)}t.preventDefault()}))},txtEditorInit:function(){$(".box-txt-editor").length>0&&$('.box-txt-editor iframe[src*="youtube.com"]').each(function(){$(this).addClass("box"),$(this).wrap('<div class="box-vdo"></div>')})}},$app.form={init:function(){$(".input-txt").not(".input-address").each(function(){""!=$(this).val()&&$(this).parent(".input-group").addClass("active"),$(this).on("keyup change",function(){""!=$(this).val()?$(this).parent(".input-group").addClass("active"):$(this).parent(".input-group").removeClass("active")})})},check:function(e,t){e.parents("form").find(".error").removeClass("error"),e.parents("form").find(".txt-error").text("").hide(),e.parents(".box-input").find(".txt-error").text(t).show(),e.addClass("error").focus()},clear:function(e){$(e+" .error").removeClass("error"),$(e+" .txt-error").text("").hide()},signin:function(){var e="#frm-signin",t="#frm-reset-password",a=$(e+' [name="username"]'),i=$(t+" #RP_email"),o=$(e+' [name="password"]');$(".btn-sign-switch").click(function(e){var t=$(this).attr("data-state");$app.check.signinPage?$.fancybox.close():($(".box-sign-switch").toggle(),$.fancybox.update(),"signin"==t?($app.check.skipRobotSignin||CC_loadSignin(),$app.popup.state="signin"):"signup"==t?($app.check.skipRobotSignup||CC_loadSignup(),$app.popup.state="signup"):($app.check.skipRobotSignin||CC_loadSignin(),$app.popup.state="signin")),e.preventDefault()}),$(".btn-reset-switch").click(function(e){var t=$(this).attr("data-state");$app.check.signinPage?$.fancybox.close():($(".box-reset-switch").toggle(),$.fancybox.update(),"signin"==t?($app.check.skipRobotSignin||CC_loadSignin(),$app.popup.state="signin"):"forgotpass"==t?($app.check.skipRobotResetPass||CC_loadRSPass(),$app.popup.state="forgotpass"):($app.check.skipRobotSignin||CC_loadSignin(),$app.popup.state="signin")),e.preventDefault()}),0==i.val()&&$(t).find(".btn-reset-password").prop("disabled",!0).addClass("linear"),$(t).on("keyup",function(){0!=i.val()?$(this).find(".btn-reset-password").prop("disabled",!1).removeClass("linear"):$(this).find(".btn-reset-password").prop("disabled",!0).addClass("linear")}),$(e).on("submit",function(t){if($.fancybox.update(),0==a.val())return $app.form.check(a,msg.email),!1;if(!emailCheck.test(a.val()))return $app.form.check(a,msg.email_invalid),!1;if(0==o.val())return $app.form.check(o,msg.password),!1;if(!$app.check.skipRobotSignin&&""==turnstile.getResponse("#CC_signin")||void 0==turnstile.getResponse("#CC_signin"))return $app.form.clear(e),$(e+" #CC_signin").addClass("error"),$(e+" .txt-recaptcha-signin").show().text(msg.captcha),!1;$app.form.clear(e),$(e+" .box-input-group").removeClass("error"),$(e+" #CC_signin").removeClass("error"),$(e+" .btn-signin").addClass("loading").attr("disabled","");var i=$(e).serialize();$.ajaxSetup({xhrFields:{withCredentials:!0}}),$.post("https://event.thaiticketmajor.com/inc/check_user_signin.php",i,function(t){$(".btn-signin").removeClass("loading").removeAttr("disabled");(t=$.parseJSON(t)).result?window.location=t.url:($(e+" .txt-error-signin").text(msg.signin_fail).show(),$(e+" .box-input-group").addClass("error"),$app.check.skipRobotSignin||turnstile.reset("#CC_signin"))}),t.preventDefault()}),$(t).on("submit",function(e){if(0==i.val())return $app.form.check(i,msg.email),!1;if(!emailCheck.test(i.val()))return $app.form.check(i,msg.email_invalid),!1;if(!$app.check.skipRobotResetPass&&""==turnstile.getResponse("#CC_rspass")||void 0==turnstile.getResponse("#CC_rspass"))return $app.form.clear(t),$(t+" .CCbox").addClass("error"),$(t+" .txt-error-ccrspass").show().text(msg.captcha),!1;$app.form.clear(t);var a=$(t).serialize();$(".btn-reset-password").addClass("loading").attr("disabled",""),$.post("https://event.thaiticketmajor.com/tickets/forgot-password-process.php",a,function(e){$(".btn-reset-password").removeClass("loading").removeAttr("disabled");(e=$.parseJSON(e)).result?void 0==$.cookie("__la")||""==$.cookie("__la")||"th"==$.cookie("__la")?$app.dialog.open("success","เปลี่ยนรหัสผ่านสำเร็จ","ท่านจะได้รับรหัสผ่านใหม่ทางอีเมล์ของท่าน","ปิด"):$app.dialog.open("success","SUCCESS","You will get a new password in your mailbox","CLOSE"):"not-found"===e.message?void 0==$.cookie("__la")||""==$.cookie("__la")||"th"==$.cookie("__la")?$app.dialog.open("error","ขออภัย","ไม่พบชื่อผู้ใช้นี้ในระบบ<br>กรุณาตรวจสอบชื่อผู้ใช้ให้ถูกต้อง","ลองใหม่"):$app.dialog.open("error","SORRY","The system is not found this email,<br>Please check that it is correct.","TRY AGAIN"):$app.fn.showErrorMsg(),$app.check.skipRobotResetPass||turnstile.reset("#CC_rspass")}),e.preventDefault()})},signinPage:function(){var e="#frm-signin-page",t=$(e+' [name="username"]'),a=$(e+' [name="password"]');$app.check.signinPage=!0,$(".main-header .btn-signin").remove(),$(e).on("submit",function(i){if($.fancybox.update(),0==t.val())return $app.form.check(t,msg.email),!1;if(!emailCheck.test(t.val()))return $app.form.check(t,msg.email_invalid),!1;if(0==a.val())return $app.form.check(a,msg.password),!1;if(!$app.check.skipRobotSigninPage&&""==turnstile.getResponse("#CC_signinPage")||void 0==turnstile.getResponse("#CC_signinPage"))return $app.form.clear(e),$(e+" #CC_signinPage").addClass("error"),$(e+" .txt-recaptcha-signin2").show().text(msg.captcha),!1;$app.form.clear(e),$(e+" .box-input-group").removeClass("error"),$(e+".btn-signin").addClass("loading").attr("disabled","");var o=$(e).serialize();$.ajaxSetup({xhrFields:{withCredentials:!0}}),$.post("https://event.thaiticketmajor.com/inc/check_user_signin.php",o,function(t){$(".btn-signin").removeClass("loading").removeAttr("disabled");(t=$.parseJSON(t)).result?window.location=t.url:($(e+" .txt-error-signin2").text(msg.signin_fail).show(),$(e+" .box-input-group").addClass("error"),$app.check.skipRobotSigninPage||turnstile.reset("#CC_signinPage")),$(".btn-signin").removeClass("loading").removeAttr("disabled")}),i.preventDefault()})},signup:function(){function e(){$(t+" .box-signup-step-1,.box-social-signin").hide(),$(t+" .box-signup-step-2").show(),n||($app.fn.getCountry(),n=!0),$app.check.skipRobotSignup||CC_loadSignup(),$.fancybox.update()}var t="#frm-signup",a=$(t+" #username"),i=$(t+" #password"),o=$(t+" #confirm_password"),n=!1;$.dobPicker({daySelector:"#dob_date",monthSelector:"#dob_month",yearSelector:"#dob_year",dayDefault:msg.date,monthDefault:msg.month,yearDefault:msg.year,minimumAge:5,maximumAge:99});var s=document.querySelector("#phone"),r=window.intlTelInput(s,{preferredCountries:["th"],separateDialCode:!0,utilsScript:"/assets/js/vendor/intl-tel-input/utils.js"});s.addEventListener("countrychange",function(){var e=r.getSelectedCountryData();$("#telephoneArea").val(e.dialCode),$app.check.telephoneCode=e.iso2}),0==a.val()&&0==i.val()&&0==o.val()&&$(t).find(".btn-signup-continue").prop("disabled",!0).addClass("linear"),$(t+" .box-signup-step-1").on("keyup",function(){0!=a.val()&&0!=i.val()&&0!=o.val()?$(this).find(".btn-signup-continue").prop("disabled",!1).removeClass("linear"):$(this).find(".btn-signup-continue").prop("disabled",!0).addClass("linear")}),$(t+" .btn-signup-continue").on("click",function(n){return 0==a.val()?($app.form.check(a,msg.email),!1):emailCheck.test(a.val())?0==i.val()?($app.form.check(i,msg.password),!1):i.val().toString().length<"8"?($app.form.check(i,msg.password_min),!1):0==o.val()?($app.form.check(o,msg.password_confirm),!1):o.val()!=i.val()?($app.form.check(o,msg.password_match),!1):($(".btn-signup-continue").addClass("loading").attr("disabled",""),$.ajaxSetup({xhrFields:{withCredentials:!0}}),$.post("https://event.thaiticketmajor.com/register/checkemail.php",{email:a.val()},function(i){$(".btn-signup-continue").removeClass("loading").removeAttr("disabled"),i?$app.form.check(a,msg.email_duplicate):($app.form.clear(t+" .box-signup-step-1"),$(t+" .btn-edit-email .txt").html(a.val()),e())}),void n.preventDefault()):($app.form.check(a,msg.email_invalid),!1)}),$(t).on("submit",function(e){if(0==$(t+' [name="firstname"]').val())return $app.form.check($(t+' [name="firstname"]'),msg.firstname),!1;if(0==$(t+' [name="lastname"]').val())return $app.form.check($(t+' [name="lastname"]'),msg.lastname),!1;if(!$app.check.skipGender&&""==$(t+' [name="gender"]').val())return $app.form.check($(t+' [name="gender"]'),msg.gender),!1;if(!$app.check.skipDOB&&""==$(t+' [name="dob_date"]').val())return $app.form.check($(t+' [name="dob_date"]'),msg.birthday),!1;if(!$app.check.skipDOB&&""==$(t+' [name="dob_month"]').val())return $app.form.check($(t+' [name="dob_month"]'),msg.birthday),!1;if(!$app.check.skipDOB&&""==$(t+' [name="dob_year"]').val())return $app.form.check($(t+' [name="dob_year"]'),msg.birthday),!1;if(!$app.check.skipIDcard&&$(t+" #idcard").is(":checked")&&0==$(t+' [name="idcard_number"]').val())return $app.form.check($(t+' [name="idcard_number"]'),msg.idcard),!1;if(!$app.check.skipIDcard&&$(t+" #idcard").is(":checked")&&"13"!=$(t+' [name="idcard_number"]').val().toString().length)return $app.form.check($(t+' [name="idcard_number"]'),msg.idcard_limit),!1;if(!$app.check.skipIDcard&&$(t+" #idcard").is(":checked")&&!$app.fn.checkIDCard($(t+' [name="idcard_number"]').val()))return $app.form.check($(t+' [name="idcard_number"]'),msg.idcard_invalid),!1;if(!$app.check.skipIDcard&&$(t+" #passport").is(":checked")&&0==$(t+' [name="passport_number"]').val())return $app.form.check($(t+' [name="passport_number"]'),msg.passport),!1;if(0==$(t+' [name="phone"]').val())return $app.form.check($(t+' [name="phone"]'),msg.telephone),!1;if(!phoneCheck.test($(t+' [name="phone"]').val()))return $app.form.check($(t+' [name="phone"]'),msg.telephone_invalid),!1;if("th"==$app.check.telephoneCode&&$(t+' [name="phone"]').val().toString().length<"8")return $app.form.check($(t+' [name="phone"]'),msg.telephone_limit),!1;if(!$app.check.skipAddress&&0==$(t+' [name="address"]').val())return $app.form.check($(t+' [name="address"]'),msg.address),!1;if(0==$(t+' [name="country"]').val())return $app.form.check($(t+' [name="country"]'),msg.country),!1;if(!$app.check.skipAddress&&$app.check.countryTH&&"000"==$(t+' [name="province"]').val())return $app.form.check($(t+' [name="province"]'),msg.province),!1;if(!$app.check.skipAddress&&$app.check.countryTH&&"000"==$(t+' [name="district"]').val())return $app.form.check($(t+' [name="district"]'),msg.district),!1;if(!$app.check.skipAddress&&0==$(t+' [name="zipcode"]').val())return $app.form.check($(t+' [name="zipcode"]'),msg.zipcode),!1;if(!$(t+' [name="terms-service"]').is(":checked"))return $app.form.check($(t+' [name="terms-service"]'),msg.terms),!1;if(!$app.check.skipRobotSignup&&""==turnstile.getResponse("#CC_signup")||void 0==turnstile.getResponse("#CC_signup"))return $app.form.clear(t),$(t+" #CC_signup").addClass("error"),$(t+" .txt-error-recaptcha").show().text(msg.captcha),!1;$app.form.clear(t),$(t+' [name="telephone"]').val($(t+" #telephoneArea").val()+$(t+' [name="phone"]').val());var a=$(t).serialize();$(".btn-signin-confirm").addClass("loading").attr("disabled",""),$.ajaxSetup({xhrFields:{withCredentials:!0}}),$.post("https://event.thaiticketmajor.com/register/register.php",a,function(e){var a=$.parseJSON(e).result;$(".btn-signin-confirm").removeClass("loading").removeAttr("disabled"),a?($app.popup.signinInit("signin"),void 0==$.cookie("__la")||""==$.cookie("__la")||"th"==$.cookie("__la")?$app.dialog.signupSuccess("สมัครสมาชิกเสร็จสมบูรณ์","ท่านสามารถเข้าสู่ระบบได้โดยกดปุ่มด้านล่าง","เข้าสู่ระบบ"):$app.dialog.signupSuccess("SUCCESS","You can sign in now by the button below.","SIGN IN"),$(t)[0].reset()):$app.fn.showErrorMsg()}),e.preventDefault()}),$(t+" #birthday").on("change",function(){""!=$(this).val()?$(this).addClass("valid"):$(this).removeClass("valid")}),$(t+" select").on("change",function(){$(this).each(function(){""!=$(this).val()?$(this).addClass("valid"):$(this).removeClass("valid")})}),$(t+' .radiobox input[type="radio"]').on("change",function(){$(this).each(function(){$(this).parents(".box-radiobox").find(".radiobox").removeClass("selected"),$(this).is(":checked")?$(this).parents(".radiobox").addClass("selected"):$(this).parents(".radiobox").removeClass("selected")})}),$(t+' [name="id_number_select"]').on("change",function(){"idcard"==$(this).val()?($(".input-passport").hide().blur(),$(".input-idcard").show().find("input").focus()):($(".input-idcard").hide().blur(),$(".input-passport").show().find("input").focus())}),$(t+" .btn-signin-continue").click(function(){e()}),$(t+" .btn-edit-email").click(function(){$(t+" .box-signup-step-1,.box-social-signin").show(),$(t+" .box-signup-step-2").hide(),$.fancybox.update(),$(t+' [name="username"]').focus()})}},$app.member={init:function(){this.follow()},follow:function(e,t,a){var i=$(a).attr("class");if($(this).addClass("cursor-loading"),"btn-following"!=i)$.post("/data_fav/save_follow.php",{memberID:e,artistID:t},function(e){e?($(a).removeClass("btn-follow").addClass("btn-following"),$(a).html("<span>Following</span>"),$(this).removeClass("cursor-loading")):$app.fn.showErrorMsg()});else{1==confirm(msg.confirm)&&$.post("/data_fav/save_unfollow.php",{memberID:e,artistID:t},function(e){e?($(a).removeClass("btn-following").addClass("btn-follow"),$(a).html("<span>+ Follow</span>")):$app.fn.showErrorMsg(),$(this).removeClass("cursor-loading")})}},favorite:function(e,t,a){var i=$(a).attr("data-btn");if($(this).addClass("cursor-loading"),"active"==i)$.post("/data_fav/save_favorites.php",{memberID:e,eventID:t},function(e){e?($('.btn-favorite[data-fav="'+t+'"]').attr("data-btn","inactive"),$app.member.favoriteAnimation()):$app.fn.showErrorMsg(),$(this).removeClass("cursor-loading")});else{1==confirm(msg.confirm)&&$.post("/data_fav/save_unfavorites.php",{memberID:e,eventID:t},function(e){e?($('.btn-favorite[data-fav="'+t+'"]').attr("data-btn","active"),$(this).removeClass("cursor-loading")):$app.fn.showErrorMsg()})}},favoriteAnimation:function(){var e=$(window).width(),t=$(window).height();$.fancybox({type:"inline",href:"#favorite-animation",width:e,height:t,margin:0,padding:0,aspectRatio:!0,scrolling:"no",closeBtn:!1,autoSize:!1,fitToView:!0,topRatio:0,helpers:{media:!0,overlay:{locked:!1,closeClick:!1,css:{background:"rgba(0, 0, 0, 0)"}}},beforeShow:function(){$(".fancybox-overlay,.fancybox-wrap").addClass("no-click"),$(".fancybox-skin").addClass("no-bg")},afterShow:function(){var e=setTimeout(function(){$.fancybox.close(),clearTimeout(e)},4e3)}})}},$app.home={init:function(){this.expandContent(),"Mobile"!=user.device.type&&this.scroll(),$app.slider.herobanner(),$app.slider.subbanner(),$app.slider.eventFav(),$app.slider.single(".section-shopping .shopping-slider"),$app.slider.fourSlider(".merchandise-slider"),this.varietyVdoPlayer()},expandContent:function(){$(".box-collapse .btn-more").click(function(e){$(this).parents(".box-collapse").addClass("expand"),e.preventDefault()})},scroll:function(){function e(){var e=$(window).scrollTop();t(e),$('.main-container [data-section="jumb"]').each(function(t){var a=this.id,i=$(this).offset().top-2;e>=i&&($(".jumbSection-nav a.active").removeClass("active"),$('.jumbSection-nav a[href="#'+a+'"]').addClass("active")),e>=$(document).height()-$(window).height()-$(".main-footer").outerHeight()?($(".jumbSection-nav a.active").removeClass("active"),$('.jumbSection-nav a[href="#section-promotion"]').addClass("active")):$('.jumbSection-nav a[href="#section-promotion"]').removeClass("active")})}function t(e){var t=$(".section-first").offset().top;e>t&&$(".jumbSection-nav").addClass("fixed"),e<t&&$(".jumbSection-nav").removeClass("fixed")}$(window).scrollTop();$(window).on("scroll",function(e){$(this).scrollTop()});var a=!1;$(window).on("scroll",e),$(".jumbSection-nav .item").click(function(i){if(!a&&!$(this).hasClass("active")){lazy.loadAll(),a=!0,$(window).off("scroll");var o=this.hash;$(".jumbSection-nav .item.active").removeClass("active"),$('.jumbSection-nav .item[href="'+o+'"]').addClass("active"),$("html,body").stop().animate({scrollTop:$(o).offset().top},650,"easeInOutCubic",function(){}).promise().then(function(){a=!1,e(),$(window).on("scroll",e);t($(window).scrollTop())})}i.preventDefault()})},varietyVdoPlayer:function(){$default_vdo=$(".section-variety .vdo-list .vdo-item"),$default_vdo.eq(0).addClass("active");var e={code:$default_vdo.eq(0).find(".vdo-link").attr("href"),title:$default_vdo.eq(0).find(".vdo-link").attr("data-title"),url:$default_vdo.eq(0).find(".vdo-link").attr("data-url")};$(".section-variety .vdo-main-title .txt-title").attr("href",e.url),$(".section-variety .vdo-main-title .txt-title .txt").html(e.title),$(".section-variety .vdo-link").click(function(t){e={code:$(this).attr("href"),title:$(this).attr("data-title"),url:$(this).attr("data-url")},$(this).parents(".vdo-item").hasClass("active")||($(this).parents(".vdo-item").siblings(".vdo-item").removeClass("active"),$(this).parents(".vdo-item").addClass("active"),function(e,t,a){$(".section-variety .vdo-main .box").html("").append('<iframe width="560" height="315" src="'+e+'?autoplay=1" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'),$(".section-variety .vdo-main-title .txt-title").attr("href",a),$(".section-variety .vdo-main-title .txt-title .txt").html(t)}(e.code,e.title,e.url)),t.preventDefault()})}},$app.homeMobile={init:function(){$app.slider.herobanner(),$app.slider.visible1(".slider-visible-1"),$app.slider.visible2(".slider-visible-2"),$app.slider.visible3(".slider-visible-3"),$app.slider.visible4(".slider-visible-4"),$(".vdo-slider").on("afterChange",function(e,t,a,i){lazy.update()})}},$app.eventDetail={init:function(){$("html").addClass("not-sticky-header"),$(".event-info-bar").append($(".event-billboard .box-event-btn").clone()),$(".event-billboard .box-btn-ticket").length>0?$(".event-info-bar .col-button").append($(".event-billboard .box-btn-ticket").clone()):$(".event-info-bar .col-button").hide();$(".main-container").append('<iframe id="favorite-animation" src="https://www.thaiticketmajor.com/animation/favorite/index.html" width="100%" height="100%" frameborder="0" style="display:none;"></iframe>'),$(".box-event-list .row").length>8&&($(".box-event-list .body").wrapInner('<div class="body-inner"></div>'),$(".box-event-list .btn-item a:not([disabled])").eq(0).parents(".row").addClass("row-enable"),$(".box-event-list .body").scrollTop($(".box-event-list .body-inner .row-enable").position().top+1))},fixedBtn:function(){var e=parseInt($(".event-detail-item").offset().top+$(".event-detail-item").outerHeight()+100),t=$(window).scrollTop();t>e&&$("html").addClass("fixed-bar"),t<e&&$("html").removeClass("fixed-bar")},ttmGuideButton:function(e){var t='<a id="button-ttm-guide" class="btn-ttm-guide" href="javascript:void(0);" onclick="$app.popup.vdo(\''+e+'\');"><img src="https://www.thaiticketmajor.com/assets/img/icon/ttm-guide.svg"></a>';$(".event-billboard .title").addClass("ttm-guide").append(t),$("#button-ttm-guide").on("click",function(){})},ttmExclusiveButton:function(e){var t='<a id="button-ttm-exclusive" class="btn-ttm-exclusive" href="javascript:void(0);" onclick="$app.popup.vdo(\''+e+'\');"><img src="https://www.thaiticketmajor.com/assets/img/icon/ttm-exclusive.svg"></a>';$(".event-billboard .title").addClass("ttm-exclusive").append(t),$("#button-ttm-exclusive").on("click",function(){})}},$app.eventDetailMobile={init:function(){var e=$(".event-detail-slider"),t=$(".txt-total-eventSlider");e.on("init reInit afterChange",function(e,a,i,o){var n=(i||0)+1;t.text(n+"/"+a.slideCount),a.slideCount<2&&t.remove()}),e.slick({arrows:!1,dots:!1,infinite:!1,slidesToShow:1,slidesToScroll:1,speed:200,lazyLoad:"anticipated"}),$app.slider.visible2(".slider-visible-2"),$app.slider.visible3(".slider-visible-3"),$app.slider.visible4(".slider-visible-4"),$(".box-main-btn.fixed").html($(".box-main-btn .btn-buynow").clone())},fixedBtn:function(){$(window).scrollTop();var e=parseInt($(".event-detail-slider").offset().top+$(".event-detail-slider").outerHeight()),t=$(window).scrollTop();t>e&&$("html").addClass("fixed"),t<e&&$("html").removeClass("fixed")}},$app.popup={state:null,signin:function(e){$app.popup.state="signin",$.fancybox({href:"#popup-signin",autoResize:!0,margin:[40,0,40,0],padding:0,helpers:{overlay:{closeClick:!1}},beforeShow:function(){void 0===$.cookie("ttkemail")||void 0===$.cookie("ttkname")||$app.check.userCookie||($("#frm-signin .form-header .head").html(msg.welcome),$("#frm-signin .form-header").append('<p class="txtMed">'+msg.welcome_title+$.cookie("ttkname")+"</p>"),$('#frm-signin [name="username"]').val($.cookie("ttkemail")),$app.check.userCookie=!0)},afterShow:function(){$app.check.skipRobotSignin||CC_loadSignin(),$app.check.skipRobotSignup||CC_loadSignup(),$app.check.skipRobotResetPass||CC_loadRSPass(),void 0==e||""==e?$("#frm-signin #redir").val(window.location.href):$("#frm-signin #redir").val(e)},afterClose:function(){$app.fn.resetTurnstile()}})},signinAutofill:function(e,t){var a=$(t).attr("data-url");$app.popup.state="signin",$.fancybox({href:"#popup-signin",autoResize:!0,margin:[40,0,40,0],padding:0,helpers:{overlay:{closeClick:!1}},afterShow:function(){$app.check.skipRobotSignin||CC_loadSignin(),void 0==a||""==a?$("#frm-signin #redir").val(window.location.href):$("#frm-signin #redir").val(a),$('#popup-signin #frm-signin [name="username"]').val(e),$('#popup-signin #frm-signin [name="password"]').val("").focus()},afterClose:function(){$('#popup-signin #frm-signin [name="username"]').val(""),$app.fn.resetTurnstile()}})},signup:function(e){$app.popup.signinInit("signup"),$app.popup.state="signup",$.fancybox({href:"#popup-signin",autoResize:!0,margin:[40,0,40,0],padding:0,helpers:{overlay:{closeClick:!1}},afterShow:function(){$app.check.skipRobotSignup||CC_loadSignup(),$("#popup-signin #username").focus(),"skipAddress"==e&&($("#popup-signin .row-address").hide(),$("#popup-signin #skipAddress").val("1"),$app.check.skipAddress=!0),"BKFC"==e&&($("#popup-signin .row-gender,#popup-signin .row-dob,#popup-signin .row-idcard").hide(),$("#popup-signin #skipGender,#popup-signin #skipDOB,#popup-signin #skipIDcard").val("1"),$("#popup-signin .row-address").hide(),$("#popup-signin #skipAddress").val("1"),$app.check.skipGender=!0,$app.check.skipDOB=!0,$app.check.skipIDcard=!0,$app.check.skipAddress=!0)},afterClose:function(){$app.popup.signinInit("signin"),$("#popup-signin .row-address").show(),$("#popup-signin #skipAddress").val("0"),$app.check.skipAddress=!1,$app.fn.resetTurnstile()}})},forgetPassword:function(){$app.popup.signinInit("forgetPassword"),$app.popup.state="forgotpass",$.fancybox({href:"#popup-signin",autoResize:!0,margin:[40,0,40,0],padding:0,afterShow:function(){$app.check.skipRobotResetPass||CC_loadRSPass(),$("#frm-reset-password #RP_email").focus()},afterClose:function(){$app.popup.signinInit("signin"),$app.fn.resetTurnstile()}})},filterEvent:function(){$.fancybox({href:"#popup-filter-event",padding:0,margin:[40,20,40,20],closeBtn:!1,helpers:{overlay:{closeClick:!1}}})},browser:function(){$.fancybox({type:"ajax",href:"ajax/popup-browser-en.html",padding:0,margin:[40,20,40,20],width:"100%",height:"auto",maxWidth:"840",minHeight:"440",autoResize:!0,autoSize:!1,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.99)"}}}})},search:function(){"Mobile"===user.device.type?$.fancybox({href:"#overlay-search",padding:0,margin:[0,20,0,20],width:"100%",height:"100%",autoSize:!1,closeBtn:!1,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.98)"}}},beforeShow:function(){$(".fancybox-skin").addClass("no-bg"),lazy.update()},afterShow:function(){lazy.update(),setTimeout(function(){$(".frm-event-search #search_box").focus()},100)},afterClose:function(){$(".main-header .btn-show-search").removeClass("active"),$(".fancybox-skin").removeClass("no-bg"),$(".ui-datepicker").hide()}}):$.fancybox({href:"#overlay-search",padding:0,margin:[40,20,40,20],autoSize:!1,autoCenter:!1,width:"100%",height:"100%",closeBtn:!1,topRatio:0,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.98)"}}},beforeShow:function(){$(".fancybox-skin").addClass("no-bg")},afterShow:function(){lazy.update(),setTimeout(function(){$("#search_box").focus()},100)},afterClose:function(){$(".main-header .btn-show-search").removeClass("active"),$(".fancybox-skin").removeClass("no-bg")}})},memberMenu:function(e){$.fancybox({href:e,padding:0,margin:20,width:"100%",height:"auto",maxWidth:"340",autoResize:!0,autoSize:!1,closeBtn:!1})},signinInit:function(e){switch($("#frm-signup .box-signup-step-1").show(),$("#frm-signup .box-signup-step-2").hide(),e){case"signin":$("#frm-signin").show(),$("#frm-reset-password,#frm-signup").hide();break;case"signup":$("#frm-signup").show(),$("#frm-reset-password,#frm-signin").hide();break;case"forgetPassword":$("#frm-reset-password").show(),$("#frm-signin,#frm-signup").hide()}},ticket:function(e){$.fancybox({href:e,padding:0,margin:[40,20,40,20],afterLoad:function(){$(".fancybox-skin").addClass("skin-2")},afterClose:function(){$(".fancybox-skin").removeClass("skin-2")}})},vdo:function(e){$.fancybox({href:e,type:"iframe",padding:0,margin:[40,20,40,20],width:1110,beforeShow:function(){$(".fancybox-skin").addClass("no-bg fancybox-vdo"),mainVdoSrc=$(".event-detail .main-media iframe").attr("src"),$(".event-detail .main-media iframe").attr("src","")},afterClose:function(){$(".event-detail .main-media iframe").attr("src",mainVdoSrc),mainVdoSrc=""}})},overlayCloseFalse:function(e){$.fancybox({href:e,autoResize:!0,margin:[40,0,40,0],padding:0,helpers:{overlay:{closeClick:!1}}})}},$app.fn={goto:function(e){$("html,body").stop(0).animate({scrollTop:$(e).offset().top},600,function(){lazy.update()})},loadMoreData:function(e,t,a){var i=e,o=$(t);$.post(i,function(e){$(a).hide(),o.append(e),$(".tabbox-sync .tbs-container").slick("setPosition")})},scrollAndFixed:function(e,t){var a=$(e).width(),i=$(e).offset().top-10,o=$(window).scrollTop();$(t).css({width:a+"px"}),o>=i?$(e).addClass("fixed"):$(e).removeClass("fixed")},share:function(e){var t=encodeURIComponent($meta.title);switch(e){case"facebook":FB.ui({app_id:"326324767913792",method:"share",display:"popup",href:$meta.url},function(e){});break;case"twitter":$app.fn.window_open("https://twitter.com/intent/tweet?text="+t+"&url="+$meta.url+"&via=ThaiTicketMajor");break;case"line":$app.fn.window_open("https://lineit.line.me/share/ui?url="+$meta.url);break;case"google":$app.fn.window_open("https://plus.google.com/share?url="+$meta.url)}},window_open:function(e){var t=$(window).width()/2-250,a=$(window).height()/2-250;window.open(e,"","toolbar=yes,scrollbars=yes,resizable=yes,top="+a+",left="+t+",width=500,height=500")},resizeIframe:function(e){},setLang:function(e){$app.language=e,0!=$(".lang-switcher").length&&$('.lang-switcher [data-lang="'+e+'"]').addClass("active")},viewNoti:function(){$.post("/alert/",function(){})},getCountry:function(country){var lang=$("#lang").val();if(""==country||void 0==country)var $country="TH";else var $country=country;$.post("https://event.thaiticketmajor.com/tickets/getcountry.ajax.php?lang="+lang,function(data){$("#country").append(data),$("#country").val("TH"),$.post("https://event.thaiticketmajor.com/tickets/getstate.ajax.php?lang="+lang+"&value="+$country,function(data,status){var re=eval("("+data+")");$("#province").html(re.pages).addClass("valid"),$("#province option[value='000']").html(msg.province)})})},getCountryGlobal:function(parent,country){var lang="2";if(""==country||void 0==country)var $country="TH";else var $country=country;$.post("https://event.thaiticketmajor.com/tickets/getcountry.ajax.php?lang="+lang,function(data){$(parent+' [name="country"]').append(data),$.post("https://event.thaiticketmajor.com/tickets/getstate.ajax.php?lang="+lang+"&value="+$country,function(data,status){var re=eval("("+data+")");$(parent+' [name="province"]').html(re.pages).addClass("valid"),$(parent+' [name="province"] option[value="000"]').html(msg.province)})})},getProvince:function(){window.focus(),$("#zipcode").val("");var value=$("#country").val(),lang=$("#lang").val();"TH"===value?($(".row-th-state").show(),$app.check.countryTH=!0):($(".row-th-state").hide(),$app.check.countryTH=!1);var ajaxUrl="https://event.thaiticketmajor.com/tickets/getstate.ajax.php?lang="+lang+"&value="+value;$.post(ajaxUrl,function(data,status){var re=eval("("+data+")");$("#province").html(re.pages).addClass("valid"),$("#province option[value='000']").html(msg.province),"000"===value&&$("#province").html('<option value="000">'+msg.province+"</option>").removeClass("valid")});var ajaxUrl_2="https://event.thaiticketmajor.com/tickets/getcity.ajax.php?mode=2&lang="+lang+"&value="+value;return $.post(ajaxUrl_2,function(data,status){var re=eval("("+data+")");$("#district").html(re.pages).addClass("valid"),$("#district option[value='000']").html(msg.amphoe),"000"===value&&$("#district").html('<option value="000">'+msg.amphoe+"</option>").removeClass("valid")}),!1},getProvinceGlobal:function(parent){window.focus(),$(parent+' [name="zipcode"]').val("");var value=$(parent+' [name="country"]').val(),lang=$(parent+' [name="lang"]').val();"TH"===value?($(parent+" .row-th-state").show(),$app.check.countryTH=!0):($(parent+" .row-th-state").hide(),$app.check.countryTH=!1);var ajaxUrl="https://event.thaiticketmajor.com/tickets/getstate.ajax.php?lang="+lang+"&value="+value;$.post(ajaxUrl,function(data,status){var re=eval("("+data+")");$(parent+' [name="province"]').html(re.pages).addClass("valid"),$(parent+' [name="province"] option[value="000"]').html(msg.province),"000"===value&&$(parent+' [name="province"]').html('<option value="000">'+msg.province+"</option>").removeClass("valid")});var ajaxUrl_2="https://event.thaiticketmajor.com/tickets/getcity.ajax.php?mode=2&lang="+lang+"&value="+value;return $.post(ajaxUrl_2,function(data,status){var re=eval("("+data+")");$(parent+' [name="district"]').html(re.pages).addClass("valid"),$(parent+' [name="district"] option[value="000"]').html(msg.amphoe),"000"===value&&$(parent+' [name="district"]').html('<option value="000">'+msg.amphoe+"</option>").removeClass("valid")}),!1},getCity:function(){window.focus();var value=$("#province").val(),lang=$("#lang").val(),ajaxUrl="https://event.thaiticketmajor.com/tickets/getcity.ajax.php?mode=1&lang="+lang+"&value="+value;return $.post(ajaxUrl,function(data,status){var re=eval("("+data+")");$("#district").html(re.pages).addClass("valid"),$("#district option[value='000']").html(msg.amphoe),"000"===value&&$("#district").html('<option value="000">'+msg.amphoe+"</option>").removeClass("valid")}),!1},getCityGlobal:function(parent){window.focus();var value=$(parent+' [name="province"]').val(),lang=$(parent+' [name="lang"]').val(),ajaxUrl="https://event.thaiticketmajor.com/tickets/getcity.ajax.php?mode=1&lang="+lang+"&value="+value;return $.post(ajaxUrl,function(data,status){var re=eval("("+data+")");$(parent+' [name="district"]').html(re.pages).addClass("valid"),$(parent+' [name="district"] option[value="000"]').html(msg.amphoe),"000"===value&&$(parent+' [name="district"]').html('<option value="000">'+msg.amphoe+"</option>").removeClass("valid")}),!1},checkIDCard:function(e){for(i=0,sum=0;i<12;i++)sum+=parseFloat(e.charAt(i))*(13-i);return(11-sum%11)%10==parseFloat(e.charAt(12))},showErrorMsg:function(){void 0==$.cookie("__la")||""==$.cookie("__la")||"th"==$.cookie("__la")?$app.dialog.open("error","ขออภัย","เกิดข้อผิดพลาดบางประการ<br>กรุณาลองใหม่อีกครั้ง","ลองใหม่"):$app.dialog.open("error","SORRY","Something went wrong, Please try again.","TRY AGAIN")},resetTurnstile:function(){Checkload_CC_signin=!1,Checkload_CC_signup=!1,Checkload_CC_rspass=!1}};var $eventFavSlide;$app.slider={single:function(e){$(e).slick({arrows:!0,dots:!0,infinite:!0,speed:500,fade:!0,autoplay:!0,autoplaySpeed:5e3,lazyLoad:"ondemand",slidesToShow:1,responsive:[{breakpoint:767,settings:{arrows:!1}}]})},tripleDot:function(e){$(e).slick({arrows:!1,dots:!0,infinite:!0,slidesToShow:4,slidesToScroll:4,speed:500,lazyLoad:"anticipated",responsive:[{breakpoint:576,settings:{slidesToShow:3,slidesToScroll:3}}]})},slide1Dot:function(e){$(e).slick({autoplay:!0,autoplaySpeed:3500,arrows:!1,dots:!0,infinite:!1,slidesToShow:1,slidesToScroll:1,speed:500,lazyLoad:"anticipated"})},slide3Dot:function(e){$(e).slick({arrows:!1,dots:!0,infinite:!1,slidesToShow:3,slidesToScroll:3,speed:500,lazyLoad:"anticipated",responsive:[{breakpoint:576,settings:{slidesToShow:1,slidesToScroll:1}}]})},slide6Dot:function(e){$(e).slick({arrows:!1,dots:!0,infinite:!1,slidesToShow:6,slidesToScroll:6,speed:500,lazyLoad:"anticipated",responsive:[{breakpoint:768,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:576,settings:{slidesToShow:2,slidesToScroll:2}}]})},herobanner:function(){var e=$(".herobanner .hb-img").lazy({visibleOnly:!0,chainable:!1}),t={elm:$(".herobanner"),total:$(".herobanner .item").length,current:0,timeout:null,autoplay:null,autoplaySpeed:4e3,loaded:[],scale:1,fixWidth:840,width:$(".herobanner").width(),init:function(){t.elm.find(".item.show").removeClass("show"),t.elm.find(".item").eq(t.current).addClass("show"),t.controls_init(),t.dot_update(t.current),t.autoplay_fn(t.current),t.setSize(),$(window).on("resize",function(){setTimeout(function(){t.setSize()},120)})},autoplay_fn:function(){t.autoplay=setInterval(function(){t.current<t.total-1?t.current++:t.current=0,t.elm.find(".item.show").removeClass("show"),t.elm.find(".item").eq(t.current).addClass("show"),t.dot_update(t.current)},t.autoplaySpeed)},controls_init:function(){var e={dot:'<div class="hb-dots"></div>',prev:'<button class="hb-arrow hb-prev" type="button"></button>',next:'<button class="hb-arrow hb-next" type="button"></button>'};for($(e.dot+e.prev+e.next).appendTo(".box-herobanner"),i=0;i<t.total;i++)$(".box-herobanner .hb-dots").append('<a class="item" href="javascript:void(0);" data-slide="'+i+'">'+(i+1)+"</a>");$(".box-herobanner .hb-dots .item").click(function(){var e=$(this).attr("data-slide");t.goto(e)}),$(".box-herobanner .hb-prev").click(function(){0==t.current?t.goto(t.total-1):t.goto(t.current-1)}),$(".box-herobanner .hb-next").click(function(){t.current<t.total-1?t.goto(t.current+1):t.goto(0)})},dot_update:function(e){$(".box-herobanner .hb-dots .item.active").removeClass("active"),$(".box-herobanner .hb-dots .item").eq(e).addClass("active"),-1==t.loaded.indexOf(parseInt(e))&&(t.loaded.push(parseInt(e)),t.load_img(e))},goto:function(e){clearInterval(t.autoplay),t.elm.find(".item.show").removeClass("show"),t.elm.find(".item").eq(e).addClass("show"),t.dot_update(e),t.current=e,t.autoplay_fn()},load_img:function(a){t.elm.find(".item").eq(a).find(".hb-img").show(),0==a?(t.elm.find(".item").eq(t.total-1).find(".hb-img").show(),t.elm.find(".item").eq(a+1).find(".hb-img").show()):a<t.total-1?(t.elm.find(".item").eq(a-1).find(".hb-img").show(),t.elm.find(".item").eq(a+1).find(".hb-img").show()):(t.elm.find(".item").eq(0).find(".hb-img").show(),t.elm.find(".item").eq(a-1).find(".hb-img").show()),e.update()},setSize:function(){t.width=$(".herobanner").width(),t.width<840?t.scale=t.width/t.fixWidth:t.scale=1,$(".herobanner .gad-item").css({transform:"scale("+t.scale+")"})}};t.init()},subbanner:function(){$(".subbanner").slick({arrows:!1,dots:!0,infinite:!0,speed:500,autoplay:!0,autoplaySpeed:5e3})},eventFav:function(){$eventFavSlide=$(".event-favorite-slider").slick({arrows:!1,dots:!0,infinite:!0,slidesToShow:6,slidesToScroll:6,speed:500,lazyLoad:"anticipated",responsive:[{breakpoint:992,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:576,settings:{slidesToShow:3,slidesToScroll:3}}]})},eventPersonalize:function(){$(".event-personalize-slider").slick({arrows:!1,dots:!1,infinite:!0,slidesToShow:6,slidesToScroll:6,speed:500,lazyLoad:"anticipated",responsive:[{breakpoint:992,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:576,settings:{slidesToShow:3,slidesToScroll:3}}]})},promotion:function(){$(".promotion-slider").slick({arrows:!1,dots:!1,infinite:!0,slidesToShow:3,slidesToScroll:3,speed:500,lazyLoad:"anticipated",responsive:[{breakpoint:576,settings:{slidesToShow:2,slidesToScroll:2}}]})},visible1:function(e){$(e).slick({arrows:!1,dots:!1,infinite:!1,slidesToShow:1,slidesToScroll:1,speed:200,lazyLoad:"anticipated"})},visible2:function(e){$(e).slick({arrows:!1,dots:!1,infinite:!1,slidesToShow:2,slidesToScroll:2,speed:200,lazyLoad:"anticipated"})},visible3:function(e){$(e).slick({arrows:!1,dots:!1,infinite:!1,slidesToShow:3,slidesToScroll:3,speed:200,lazyLoad:"anticipated",adaptiveHeight:!0,responsive:[{breakpoint:9999,settings:{unslick:!0,slidesToShow:6,slidesToScroll:6}},{breakpoint:767,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:340,settings:{slidesToShow:2,slidesToScroll:2}}]})},visible4:function(e){$(e).slick({arrows:!1,dots:!1,infinite:!1,slidesToShow:4,slidesToScroll:4,speed:200,lazyLoad:"anticipated"})},fourSlider:function(e){$(e).slick({arrows:!1,dots:!0,infinite:!0,slidesToShow:4,slidesToScroll:4,speed:500,lazyLoad:"anticipated",responsive:[{breakpoint:576,settings:{slidesToShow:2,slidesToScroll:2}}]})}},$app.dialog={open:function(e,t,a,i){$.fancybox({type:"ajax",href:"/ajax/popup-dialog-"+e+".php",closeBtn:!1,padding:0,margin:[40,20,40,20],beforeShow:function(){$("#popup-dialog-"+e+" .head-dialog").html(t),""!=i&&$("#popup-dialog-"+e+" .btn-main-action").html(i),""!=a?($("#popup-dialog-"+e+" .row-body").show(),$("#popup-dialog-"+e+" .msg-dialog").html(a)):$("#popup-dialog-"+e+" .row-body").hide()}})},signupSuccess:function(e,t,a){$.fancybox({type:"ajax",href:"/ajax/popup-dialog-success.php",closeBtn:!1,padding:0,margin:[40,20,40,20],beforeShow:function(){$("#popup-dialog-success .head-dialog").html(e),""!=a&&$("#popup-dialog-success .btn-main-action").addClass("red-ttm").html(a).attr("onclick","$app.popup.signin();"),""!=t?($("#popup-dialog-success .row-body").show(),$("#popup-dialog-success .msg-dialog").html(t)):$("#popup-dialog-success .row-body").hide()}})},custom:function(e,t,a,i){$.fancybox({type:"ajax",href:"/ajax/popup-dialog-custom.php",closeBtn:!1,padding:0,margin:[40,20,40,20],beforeShow:function(){$("#popup-dialog").addClass("popup-dialog-"+e),$("#popup-dialog .head-dialog").html(t),""!=i&&$("#popup-dialog .item-btn").append(i),""!=a?($("#popup-dialog .row-body").show(),$("#popup-dialog .msg-dialog").html(a)):$("#popup-dialog .row-body").hide()}})}},$app.artist={init:function(){$("html").addClass("not-sticky-header"),$(".artist-name-selection a").click(function(e){var t=$(this).attr("href");$("html,body").animate({scrollTop:$(t).offset().top-$(".artist-name-selection").height()-10},500),e.preventDefault()})},showName:function(){var e=$(".artist").offset().top,t=$(".artist").offset().top+$(".artist").outerHeight(),a=$(window).scrollTop();a>=e&&$(".artist").addClass("show-artist"),a<e&&$(".artist").removeClass("show-artist"),a>=t&&$(".artist").removeClass("show-artist")}},$app.analytic={signinCancel:function(e){if(""==e||void 0==e||null==e)window.location.href;else;switch($app.popup.state){case"signin":"Sign in Cancel";break;case"signup":"Sign up Cancel";break;case"forgotpass":"Forget password Cancel"}}};